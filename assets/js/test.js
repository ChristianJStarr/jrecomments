var liked,disliked,currentPlayingGlowInterval,max_allowed_opened=1,max_podcasts_initial=100,max_podcasts_loadin=50,opened=[],podcasts={},comment_cache={},userdatas={},search="",sort="newest",hitBottom=!1,addonOffset=0,objectsLoaded=0,lastObjIndex=0,shouldClearStrength=0,clearAwayObjects=100,clearing=!1,currentSearch="",playing=!1,playingId=0,playerSrc="https://open.spotify.com/embed/episode/{0}?utm_source=generator&theme=0",commentsLoaded=0,currentReplyId=0,comment_com_bar='<div class="com-bar"><a class="com-date">{11}</a><a class="com-like"><i class="fa fa-heart"></i><i class="fa fa-heart-broken"></i>{12}</a><a class="com-comment"><i class="far fa-comment"></i>{13}</a><a class="com-reply"><i class="fas fa-reply"></i>Reply</a></div>',spotify_web_template='<iframesrc="https://open.spotify.com/embed/episode/{0}?utm_source=generator" width="100%" height="232"frameBorder="0" allowFullScreen=""allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>',sub_comment_template='<div class="com-sub" id="{0}" podcastId="{5}" masterId="{6}" replyToId="{7}" date="{14}"><a class="com-text"><i class="com-name-wrap"><i class="fa fa-heart com-donor {3}"></i><span class="com-name" style="color:{2};">{1}</span></i>{4}</a>'+comment_com_bar+"</div>",sub_comment_template_deep='<div class="com-sub" id="{0}" podcastId="{5}" masterId="{6}" replyToId="{7}" date="{14}"><a class="com-text"><div class="com-reply-top"><span class="com-name-reply" style="color:{2};">{1}</span><i class="fa fa-arrow-right split"></i><span class="com-name-reply" style="color:{9};">{8}</span></i></div><i class="com-name-wrap"><i class="fa fa-heart com-donor {3}"></i><span class="com-name" style="color:{2};">{1}</span></i>{4}</a>'+comment_com_bar+"</div>",comment_template='<div class="com" id="{0}" podcastId="{5}" masterId="{0}" replyToId="0" date="{14}"><a class="com-text"><i class="com-name-wrap"><i class="fa fa-heart com-donor {3}"></i><span class="com-name" style="color:{2};">{1}</span></i>{4}</a>'+comment_com_bar+'<div class="com-subs"></div></div>',dataBar='<div class="data-bar"><a><i class="far fa-calendar-alt"></i><span>{0}</span></a><a><i class="far fa-clock"></i><span>{1}</span></a><a><i class="fa fa-heart"></i><span class="score-total">{2}</span></a><a><i class="far fa-comment"></i><span class="comment-total">{3}</span></a></div>',commentInputTemplate='<div class="comment"><a class="comment-max-char"></a><a class="comment-input" contenteditable="true" name="comment" maxlength="250" placeholder="Write a comment!" required></a><input class="comment-submit" type="submit" value=""><i class="fa fa-arrow-right submit"></i></div>',loadingCommentsTemplate='<div class="loading-comments"><div class="dots"><div class="circle c-1"></div><div class="circle c-2"></div><div class="circle c-3"></div></div><h3>Loading Comments</h3></div>',commentsWrapTemplate='<div class="comments-wrap"><div class="comments no-scroll-bar-com">'+loadingCommentsTemplate+"</div></div>";function enablePlayer(e){$(".player").attr("src",playerSrc.format(podcasts[e].spotify)),$("#podcast-"+e).addClass("currently-playing"),$("#top-bar").css("opacity",0),currentPlayingGlow(e),setTimeout(function(){var e=$("#player-bar");$("#top-bar");$("#top-bar").hide(),e.show(),e.css("opacity","0.75")},500),playing=!0,playingId=e}function disablePlayer(){$("#player-bar").css("opacity",0),setTimeout(function(){$("#player-bar").hide(),$("#top-bar").show(),$("#top-bar").css("opacity","1"),$(".player").attr("src","")},500),clearInterval(currentPlayingGlowInterval),$(".podcast").css("transition","height ease 0.5s, border ease 0.5s"),$(".podcast").removeClass("currently-playing"),playing=!1}function currentPlayingGlow(e){$("#podcast-"+e).css("transition","height ease 0.5s, border ease 4s"),currentPlayingGlowInterval=setInterval(function(){$("#podcast-"+e).addClass("currently-playing"),setTimeout(function(){$("#podcast-"+e).removeClass("currently-playing")},2500)},4e3)}function getPodcastData(){togglePodcastLoadScreen(!0),$.ajax({type:"GET",url:"/data/get-all/podcasts/",dataType:"json",success:function(e){podcasts=e.podcasts,showLoadingPodcastScreen(!1),updatePodcastView()},error:function(e){console.log(e)}})}function updatePodcastView(e=!1){showLoadingPodcastScreen(!1);var t=$("#container"),a=max_podcasts_initial;e?a=max_podcasts_loadin:(addonOffset=0,objectsLoaded=0,t.text(""),$("#container").animate({scrollTop:0},"fast"));var n=Object.keys(podcasts).map(function(e){return podcasts[e]});if("newest"==sort?n=n.reverse():"oldest"==sort||"popular"==sort&&(n=n.sort((e,t)=>parseFloat(t.popularity)-parseFloat(e.popularity))),""!=search){var o=search.toUpperCase();currentSearch=o,$("#search-submit").val("CLEAR"),n=n.filter(function(e){if(e[0].toString().includes(o)||e[1].toString().toUpperCase().includes(o)||e[3].toString().includes(o))return!0})}n=n.slice(addonOffset,a+addonOffset),addonOffset+=a,$.each(n,function(e,a){t.append(podcastDataFormat('<div class="podcast" id="podcast-{0}"><div class="podcast-click"></div><a class="id">{0}</a><a class="name">{1}</a><span class="duration-preview">{2}</span><div class="play"><i class="fa fa-play"></i>PLAYER</div><i class="fa fa-close close"></i><div class="content"></div></div>',a)),objectsLoaded+=1})}function podcastDataFormat(e,t){return e.format(t.id,t.name,t.duration,t.date,t.comments,t.score,t.popularity)}function loadMorePodcasts(){updatePodcastView(!0),setTimeout(hitBottom=!1,2e3)}function checkIfShouldClear(){shouldClearStrength>10&&(shouldClearStrength=0,clearing||(clearing=!0,clearOutPodcasts(clearAwayObjects)),console.log("Should Definitly Clear!"))}function clearOutPodcasts(e){$("#container > .podcast").slice(-e).remove(),clearing=!1,objectsLoaded-=e}function updateCurrentPodcastData(){if(opened.length>0)for(i=0;i<opened.length;i++){var e="/data/get-specific/podcast/"+opened[i].attr("id").split("-")[1]+"/";$.ajax({type:"GET",url:e,dataType:"json",success:function(e){if(void 0!==e.podcast&&null!=e.podcast){podcasts[e.podcast.id]=e.podcast;var t=$("#podcast-"+e.podcast.id);if(void 0!==t){var a=t.find(".data-bar");a.find(".score-total").text(nFormatter(e.podcast.score),1),a.find(".comment-total").text(nFormatter(e.podcast.comments),1)}}},error:function(e){console.log(e)}})}}function togglePodcastLoadScreen(e){e?($("#loading-podcast").show(),enableLoadSequence()):($("#loading-podcast").hide(),disableLoadSequence())}function turnOn(e){var t=t(e),a=podcasts[t],n=e.find(".content"),o=0;opened.length>=max_allowed_opened&&(o=clearOpened(e)),scrollTo(e,o),n.text("");var s=new Date(a.date);s=s.getMonth()+"/"+s.getDay()+"/"+s.getFullYear().toString().substr(2),n.append(dataBar.format(s,a.duration,a.score,a.comments)),n.append(commentsWrapTemplate),n.append(commentInputTemplate),e.addClass("extended"),e.find(".duration-preview").css("opacity",0),e.find(".data-bar").css("opacity",1),e.find(".close").css("opacity",1),e.find(".play").css("opacity",1),e.find(".comment-max-char").text("0"),e.find(".name").css("max-width","51%"),getCommentsMaster(t,50,0),opened.push(e),setTimeout(function(){$("#container").css("overflow","hidden")},1e3),gtag("event","open_podcast",{id:t,name:a[1]})}function turnOff(e){playing&&($(".playing-prompt").css("opacity",1),$(".playing-prompt").css("pointer-events","auto"));var t=e.attr("id").split("-")[1],a=podcasts[t];e.removeClass("extended"),e.find(".duration-preview").css("opacity",1),e.find(".close").css("opacity",0),e.find(".play").css("opacity",0),e.find(".data-bar").css("opacity",0),e.find(".name").css("max-width","63%"),e.find(".podcast-click").show(),setTimeout(function(){e.find(".content").text("")},500),$("#container").css("overflow-y","scroll"),gtag("event","close_podcast",{id:t,name:a[1]})}function removeFromOpened(e){if(opened.length>0){var t=[];for(i=0;i<opened.length;i++)opened[i].id!=e.id&&t.push(opened[i]);opened=t}}function clearOpened(e){var t=0,a=e.offset().top;if(opened.length>0){for(i=0;i<opened.length;i++)opened[i].offset().top<a&&(t+=1),turnOff(opened[i]);return opened=[],t*(72*($(window).height()/100))}return 0}function scrollTo(e,t){var a=e.offset(),n=$("#container");n.animate({scrollTop:a.top-(n.offset().top-n.scrollTop())-t},"fast")}function getCommentsMaster(e,t,a){var n="/data/master/"+e+"/comments/"+t+"/"+a+"/";$.ajax({type:"GET",url:n,dataType:"json",success:function(t){updateCommentDisplay(e,t.comments,t.comments_total,Object.keys(t.comments).length,!1)},error:function(e){console.log(e)}})}function getCommentsSub(e,t,a){var n="/data/sub/"+e+"/comments/"+t+"/"+a+"/";$.ajax({type:"GET",url:n,dataType:"json",success:function(t){var a=$("#"+e),n=Object.keys(t.comments).length;if(0!=n){a.attr("extended","yes"),a.find(".com-sub-extend").show();var o=a.attr("loaded");"NaN"!==o&&null!=o||(o=0),o=parseInt(o),a.attr("loaded",o+=n),a.find(".com-subs").css("border-top","solid 1px rgba(0,0,0,0.25)"),a.find(".com-subs").css("background","rgba(255,255,255,0.025)")}else a.attr("extended","no"),a.find(".com-subs").text(""),a.find(".com-sub-extend").hide(),a.find(".com-subs").css("padding-bottom","0"),a.attr("loaded",0),a.find(".com-subs").css("border-top","none"),a.find(".com-subs").css("background","transparent");updateCommentDisplay(e,t.comments,t.comments_total,n,!0)},error:function(e){console.log(e)}})}function updateCommentDisplay(e,t,a,n,o=!1){var s,c,i,r,d=!1;if(o?(e,null!=(i=$("#"+e))&&(r=i.find(".com-subs"),null!=(s=i.attr("podcastId"))&&null!=(c=$("#podcast-"+s))&&(d=!0))):(s=e,null!=(c=$("#podcast-"+s))&&(r=c.find(".comments"),d=!0)),d){c.find(".data-bar");r.text("");var l=0;$.each(t,function(e,t){o?0!==t.replyToId&&t.replyToId!==t.master?r.append(formatComment(sub_comment_template_deep,t)):r.append(formatComment(sub_comment_template,t)):r.append(formatComment(comment_template,t)),updateComment(t.id),l==n-1&&$("#"+t.id).css("border-bottom","none"),l+=1}),a=parseInt(a),o&&n>0&&a>n&&(r.append('<a class="com-sub-extend">LOAD MORE</a>'),r.find(".com-sub-extend").show(),r.css("padding-bottom","2vh"))}}function formatComment(e,t){return e.format(t.id,t.name,stringToColor(t.name),t.donor,t.comment,t.podcast,t.master,t.replyToId,t.replyToName,stringToColor(t.replyToName),t.user,timeSince(Date.parse(t.datetime)),nFormatter(t.likes,1),nFormatter(t.subCount,1),t.datetime)}function updateCommentTimes(){$("[date]").each(function(e,t){$(t).find(".com-date").text(timeSince(Date.parse($(t).attr("date"))))})}function setInputPop(e,t,a){var n='<span class="pop" style="color:'+a+';" contenteditable="false"><i class="fa fa-close" style="color:#4d4d4d;"></i>{0}</span>&nbsp;',o=$("#podcast-"+e).find(".comment-input");if(null!=o){var s=o.find(".pop");null!=s&&s.remove(),o.text(""),o.append(n.format(t))}}function clearInputPop(e){var t=$("#podcast-"+e).find(".comment-input");if(null!=t){var a=t.find(".pop");null!=a&&a.remove()}}function clearTextInput(e){var t=$("#podcast-"+e);"undefined"!=t&&t.find(".comment-input").html("")}function hasLiked(e){var t=!1;return $.each(liked,function(a,n){n==e&&(t=!0)}),t}function hasDisliked(e){var t=!1;return $.each(disliked,function(a,n){n==e&&(t=!0)}),t}function removeLikeComment(e){var t=[];$.each(liked,function(a){a!=e&&t.push(a)}),liked=t}function removeDislikeComment(e){var t=[];$.each(disliked,function(a){a!=e&&t.push(a)}),disliked=t}function updateComment(e){var t=$("#"+e).find(".com-like"),a=$("#"+e).find(".com-dislike");hasLiked(e)?(t.addClass("liked"),a.removeClass("disliked")):hasDisliked(e)?(t.removeClass("liked"),a.addClass("disliked")):(t.removeClass("liked"),a.removeClass("disliked"))}function likeCommentTask(e){var t;hasLiked(e)?(removeLikeComment(e),updateComment(e),(t=comment.find(".com-like").text()).indexOf("k")>-1||t.indexOf("m")>-1||(t=parseInt(t),t-=1,comment.find(".com-like").html('<i class="fa fa-heart"></i><i class="fa fa-heart-broken"></i>'+nFormatter(t,1)))):(wasDisliked=!1,hasDisliked(e)&&(removeDislikeComment(e),wasDisliked=!0),liked.push(e),updateComment(e),(t=comment.find(".com-like").text()).indexOf("k")>-1||t.indexOf("m")>-1||(t=parseInt(t),t+=1,wasDisliked&&(t+=1),comment.find(".com-like").html('<i class="fa fa-heart"></i><i class="fa fa-heart-broken"></i>'+nFormatter(t,1))))}function dislikeCommentTask(e){if(hasDisliked(e)){removeDislikeComment(e),updateComment(e);var t=comment.find(".com-points").text();t.indexOf("k")>-1||t.indexOf("m")>-1||(t=parseInt(t),t+=1,comment.find(".com-points").text(nFormatter(t,1)))}else wasLiked=!1,hasLiked(e)&&(removeLikeComment(e),wasLiked=!0),$.ajax({type:"GET",url:pageUrl,dataType:"json",success:function(t){disliked.push(e),updateComment(e);var a=comment.find(".com-points").text();a.indexOf("k")>-1||a.indexOf("m")>-1||(a=parseInt(a),a-=1,wasLiked&&(a-=1),comment.find(".com-points").text(nFormatter(a,1)))},error:function(e){console.log(e)}})}function submitComment(e,t,a,n=0,o=0){if(a.length>1){var s=!1;$("#podcast-"+e);0!=n&&(s=!0);var c="/action/comment/"+e+"/"+n+"/"+o+"/";$.ajax({type:"POST",url:c,data:{comment:a,user_id:t,csrfmiddlewaretoken:window.CSRF_TOKEN},dataType:"json",success:function(t){var a=t.reason;if("success"==t.status)if(clearTextInput(e),liked.push(t.commentId),s){var o=$("#"+n).attr("loaded");if(null==o)return;("NaN"===o||"0"===o||o<5)&&(o=5),getCommentsSub(n,o,0)}else getCommentsMaster(e,50,0);else console.log("Submmit Comment Failed: "+a)},error:function(e){console.log(e)}}),gtag("event","comment_submit",{id:e})}}function promptForLogin(){var e=$("#nickname"),t=$("#nickname-container"),a=t.find("input[type=text]"),n=t.find("input[type=password]"),o=t.find(".cancel"),s=t.find(".continue");e.show(),setTimeout(function(){a.select()},250),a.on("change keyup paste",function(){var e=a.val(),t=n.val();e.length>4?(t.length>5?s.css("color","lightgrey"):s.css("color","grey"),a.css("color",stringToColor(e))):(s.css("color","grey"),a.css("color","lightgrey"))}),n.on("change keyup paste",function(){var e=a.val(),t=n.val();e.length>4?t.length>5?s.css("color","lightgrey"):s.css("color","grey"):(s.css("color","grey"),a.css("color","lightgrey"))}),s.on("click",function(){var e=a.val(),t=n.val();if(e.length>4&&t.length>5){t=CryptoJS.MD5(t).toString();$.ajax({type:"POST",url:"/action/login/",data:{password:t,username:e,csrfmiddlewaretoken:window.CSRF_TOKEN},dataType:"json",success:function(t){if("success"==t.status){$.ajax({type:"GET",url:"/action/request-token/",dataType:"json",success:function(t){"success"==t.status?($("#nickname").hide(),$("#nickname .error").hide(),window.username=e,window.CSRF_TOKEN=t.newToken,$("#username-preview").text("[ "+e+" ]"),window.authenticated=!0,$("#wrapper").addClass("authenticated"),$(".comment-input").select()):location.reload()},error:function(e){location.reload()}})}else $("#nickname .error").show(),$("#nickname .error").text(t.reason),$("#nickname-container input[type=text]").focus()},error:function(e){console.log(e)}})}}),o.on("click",function(){$("#nickname").hide()})}function isLoggedIn(){return window.authenticated}function gatherUserData(e){}function storeNewUserData(e,t){}function waRequestNewToken(){$.ajax({type:"GET",url:"/action/request-token/",dataType:"json",success:function(e){"success"==e.status?window.CSRF_TOKEN=e.newToken:location.reload()},error:function(e){location.reload()}})}function waRequestUserData(e){var t="data/get-specific/user-data/"+e+"/";$.ajax({type:"GET",url:t,dataType:"json",success:function(t){"success"==t.status&&storeNewUserData(e,t.userData)},error:function(e){console.log(e)}})}function waLikeComment(e){var t="/action/like/"+e+"/";$.ajax({type:"GET",url:t,dataType:"json",success:function(t){"success"==t.status&&likeCommentTask(e)},error:function(e){console.log(e)}}),gtag("event","comment_like",{id:e})}function waDislikeComment(e){var t="/action/dislike/"+e+"/";$.ajax({type:"GET",url:t,dataType:"json",success:function(t){"success"==t.status&&dislikeCommentTask(e)},error:function(e){console.log(e)}}),gtag("event","comment_dislike",{id:e})}$(document).ready(function(){getPodcastData(),startAutoUpdater(),registerPageEvents(),registerPodcastEvents(),registerCommentEvents(),$("#top-bar").addClass("make-visible")});var autoInterval,autoUpdateInterval=15,autoUpdaterRunning=!1;function startAutoUpdater(){stopAutoUpdater(),autoUpdaterMech()}function stopAutoUpdater(){null!=autoInterval&&clearInterval(autoInterval),autoUpdaterRunning=!1}function autoUpdaterMech(){autoUpdaterRunning=!0,autoInterval=setInterval(function(){autoUpdateCall()},1e3*autoUpdateInterval)}function autoUpdateCall(){updateCurrentPodcastData(),updateCommentTimes()}function podcastId(e){return null!=e?parseInt(podcast.attr("id").split("-")[1]):0}function timeSince(e){var t=Math.floor((new Date-e)/1e3),a=t/31536e3;return a>1?Math.floor(a)+"y":(a=t/604800)>1?Math.floor(a)+"w":(a=t/86400)>1?Math.floor(a)+"d":(a=t/3600)>1?Math.floor(a)+"h":(a=t/60)>1?Math.floor(a)+"m":Math.floor(t)+"s"}function registerPageEvents(){$(document).on("click","#logout-button",function(){$.ajax({type:"GET",url:"/action/logout/",dataType:"json",success:function(e){"success"==e.status&&($("#wrapper").removeClass("authenticated"),window.username="",window.authenticated=!1,waRequestNewToken())},error:function(e){console.log(e)}})}),$(document).on("change","#search-bar",function(){search=$("#search-bar").val().toString()}),$(document).on("click","#search-submit",function(){"CLEAR"==$("#search-submit").val()?(search="",currentSearch="",$("#search-submit").val("SEARCH"),updatePodcastView()):(search=$("#search-bar").val()).length>0&&(updatePodcastView(),gtag("event","search_podcasts",{search:search}))}),$(document).on("change","#sort",function(){var e=$("#sort").val();sort!=e&&(sort=e,updatePodcastView())}),$(document).on("click","#nickname",function(e){e.stopPropagation()}),$(document).on("click",".copy-to-clipboard",function(){var e=$(this),t=e.attr("address-data"),a=e.find(".copy-notify");navigator.clipboard.writeText(t.toString()),e.css("color","#000"),a.css("opacity",1),setTimeout(function(){e.css("color","grey"),a.css("opacity",0)},1e3)}),$("#container").scroll(function(){var e=$("#container"),t=$(".podcast").height(),a=e.scrollTop(),n=e[0].scrollHeight;a+e.height()>=n-10&&(hitBottom||(hitBottom=!0,loadMorePodcasts()));var o=parseInt(a/(t/5*6.5)+" ");if(lastObjIndex!=o){var s=!1;lastObjIndex<o&&(s=!0),!s&&o-objectsLoaded<2*clearAwayObjects*-1&&(shouldClearStrength+=1,checkIfShouldClear()),lastObjIndex=o}})}function registerPodcastEvents(){$(document).on("click",".podcast-click",function(){var e=$(this).parent();e.hasClass("extended")||($("#container").css("scroll-snap-type","none"),turnOn(e),$(this).hide(),setTimeout(function(){$("#container").css("scroll-snap-type","y mandatory")},1e3))}),$(document).on("click",".close",function(){var e=$(this).parent();e.hasClass("extended")&&(turnOff(e),removeFromOpened(e))}),$(document).on("click",".play",function(){enablePlayer($(this).parent().attr("id").split("-")[1])}),$(document).on("click",".playing-prompt .yes",function(){$(".playing-prompt").css("opacity",0),$(".playing-prompt").css("pointer-events","none")}),$(document).on("click",".playing-prompt .no",function(){disablePlayer(),$(".playing-prompt").css("opacity",0),$(".playing-prompt").css("pointer-events","none")})}function registerCommentEvents(){$(document).on("click",".comment-input",function(){isLoggedIn()||promptForLogin()}),$(document).on("click",".comment-submit",function(){var e=$(this).parent().parent().parent();if(null!=e){var t=e.attr("id").split("-")[1],a=e.find(".comment-input"),n=a.html(),o=a.find(".pop");null!=o&&(n=n.replace(o.prop("outerHTML"),""));var s=currentReplyId;0!==s&&null==(s=$("#"+currentReplyId).attr("masterId"))&&(s=0),submitComment(t,0,n,s,currentReplyId)}}),$(document).on("keypress",".comment-input",function(e){if(13===e.which&&!e.shiftKey){var t=$(this).parent().parent().parent();$(this).attr("disabled","disabled");var a=t.attr("id").split("-")[1],n=t.find(".comment-input"),o=n.html(),s=n.find(".pop");null!=s&&(o=o.replace(s.prop("outerHTML")+"&nbsp;",""));var c=currentReplyId;0!==c&&null==(c=$("#"+currentReplyId).attr("masterId"))&&(c=0),submitComment(a,0,o,c,currentReplyId),$(this).removeAttr("disabled")}}),$(document).on("keydown",".comment-input",function(){var e=$(this);setTimeout(function(){0==e.find(".pop").length&&(currentReplyId=0)},500)}),$(document).on("click",".pop i",function(){$(this).parent().remove(),currentReplyId=0}),$(document).on("change keyup paste",".comment-input",function(){var e=$(this).val().length,t=$(this).parent(),a=t.parent().parent();t.find(".comment-max-char").text(e);var n=$(this).val().split("\n").length-navigator.userAgent.indexOf("MSIE");e>2?t.find(".submit").addClass("interactable"):t.find(".submit").removeClass("interactable"),n>2||e>35?a.hasClass("enlarge")||(a.find(".comment").addClass("enlarge"),a.find(".comments").addClass("enlarge-edit"),a.find(".comments-wrap").addClass("enlarge-edit-wrap")):a.hasClass("enlarge")&&(a.find(".comment").removeClass("enlarge"),a.find(".comments").removeClass("enlarge-edit"),a.find(".comments-wrap").removeClass("enlarge-edit-wrap"))}),$(document).on("click",".com-like",function(){waLikeComment($(this).parent().parent().attr("id"))}),$(document).on("click",".com-dislike",function(){waDislikeComment($(this).parent().parent().attr("id"))}),$(document).on("click",".com-comment, .com-reply",function(){var e=$(this).parent().parent(),t=$(this).hasClass("com-reply");if(console.log(t),null!=e){var a=e.attr("id");e.attr("podcastId"),e.find(".com-name").text();if("0"!==e.attr("replyToId"))return;"yes"!==e.attr("extended")?getCommentsSub(a,5,0):t||(e.attr("extended","no"),e.find(".com-subs").text(""),e.find(".com-sub-extend").hide(),e.find(".com-subs").css("padding-bottom","0"),e.attr("loaded",0),e.find(".com-subs").css("border-top","none"),e.find(".com-subs").css("background","transparent"))}}),$(document).on("click",".com-reply",function(){var e=$(this).parent().parent();if(null!=e){var t=e.attr("id"),a=e.attr("podcastId"),n=e.find(".com-name").text(),o=e.find(".com-name").css("color");currentReplyId=t,setInputPop(a,n,o)}})}function nFormatter(e,t){e=parseInt(e);var a,n=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"m"},{value:1e9,symbol:"g"},{value:1e12,symbol:"t"},{value:1e15,symbol:"p"},{value:1e18,symbol:"e"}];for(a=n.length-1;a>0&&!(e>=n[a].value);a--);return(e/n[a].value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n[a].symbol}String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,a){return void 0!==e[a]?e[a]:t})});var loadSequence,stringToColor=function(e){for(var t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);var n="#";for(a=0;a<3;a++){n+=("00"+(t>>8*a&255).toString(16)).substr(-2)}return n};function enableLoadSequence(){disableLoadSequence();LoadSequence(.5),loadSequence=setInterval(function(){LoadSequence(.5)},3e3)}function disableLoadSequence(){null!=loadSequence&&clearInterval(loadSequence)}function LoadSequence(e){JumpDot(1,e),setTimeout(function(){JumpDot(2,e)},2e3*e),setTimeout(function(){JumpDot(3,e)},4e3*e)}function JumpDot(e,t,a=.75,n="#969696"){(e=$(".c-"+e)).css("top",-a+"vh"),e.css("background",n),setTimeout(function(){e.css("background","grey"),e.css("top",0)},1e3*t)}